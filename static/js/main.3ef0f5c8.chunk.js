(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},113:function(e,t,n){},144:function(e,t,n){"use strict";n.r(t);var c,a=n(4),i=(n(102),n(12)),s=(n(103),n(189)),o=n(177),r=n(0),u=n(30),l=n(14),j=(n(104),n(190)),d=n(187),b=n.p+"static/media/musical-note.49e6a279.svg",h=function(e){var t=e.top,n=e.left;return Object(a.jsx)("img",{alt:"musical note",style:{width:40,height:40,top:t,left:n,position:"absolute"},src:b})},f=function(e){var t=e.musicNotes,n=e.updateNotes,c=e.emojis,i=e.updateEmojis,s=e.chatMessages,o=e.updateChatMessages;return Object(a.jsxs)("div",{className:"board-container",children:[Object(a.jsx)(j.a,{children:c.map((function(e){return Object(a.jsx)(d.a,{timeout:1e3,classNames:"note-transition",onEntered:function(){var t=c.findIndex((function(t){return t.key===e.key}));i([].concat(Object(l.a)(c.slice(0,t)),Object(l.a)(c.slice(t+1))))},children:Object(a.jsx)("div",{style:{width:40,height:40,top:e.top,left:e.left,position:"absolute",zIndex:9999999,userSelect:"none"},children:e.type})},e.key)}))}),Object(a.jsx)(j.a,{children:t.map((function(e){return Object(a.jsx)(d.a,{timeout:1e3,classNames:"note-transition",onEntered:function(){var c=t.findIndex((function(t){return t.key===e.key}));n([].concat(Object(l.a)(t.slice(0,c)),Object(l.a)(t.slice(c+1))))},children:Object(a.jsx)(h,Object(u.a)({},e))},e.key)}))}),Object(a.jsx)(j.a,{children:s.map((function(e){return Object(a.jsx)(d.a,{timeout:7e3,classNames:"message-transition",onEntered:function(){var t=s.findIndex((function(t){return t.key===e.key}));o([].concat(Object(l.a)(s.slice(0,t)),Object(l.a)(s.slice(t+1))))},children:Object(a.jsx)("div",{className:"board-message",style:{top:e.top,left:e.left},children:e.value})},e.key)}))})]})},O=n(188),m=n(184),p=n(176),v=function(e){var t=e.sendMessage,n=Object(r.useState)(""),c=Object(i.a)(n,2),s=c[0],o=c[1],u=Object(r.useRef)(null);return Object(a.jsxs)("div",{className:"chat-container",children:[Object(a.jsx)(m.a,{autoFocus:!0,ref:u,placeholder:"type a message",variant:"outlined",value:s,onChange:function(e){o(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(t(s),o(""))},style:{marginRight:5},onFocus:function(){if(window.innerWidth<500&&u.current){var e=u.current.offsetTop;document.body.scrollTop=e}}}),Object(a.jsx)(p.a,{onClick:function(){t(s),o("")},children:"send"})]})},x=["\ud83d\ude0d","\ud83d\ude0e","\ud83d\udc4f","\ud83d\udc40","\u2728","\ud83e\udd83"],k=function(e){var t=e.isOpen,n=e.type,c=e.onAction;return Object(a.jsx)(O.a,{variant:"persistent",anchor:"bottom",open:t,children:Object(a.jsx)("div",{className:"bottom-panel-container",children:function(){switch(n){case"emoji":return Object(a.jsx)(a.Fragment,{children:x.map((function(e){return Object(a.jsx)("div",{className:"bottom-panel-emoji",children:Object(a.jsx)(o.a,{onClick:function(){return c("emoji",e)},children:e})},e)}))});case"chat":return Object(a.jsx)(v,{sendMessage:function(e){c("chat",e)}})}}()})})},y=n(183),g=(n(113),n(178)),w=n(179),C=n(180),N=n(181),M=n(182);!function(e){e.sound="sound",e.emoji="emoji",e.color="color",e.gifs="gifs",e.chat="chat"}(c||(c={}));var S=n.p+"static/media/drum.5ae1d20c.svg",E={width:50,height:50,marginTop:10},I=function(e){var t=e.isOpen,n=e.onClose,i=e.onClick,l=e.selectedItem;return Object(a.jsx)(O.a,{variant:"persistent",anchor:"right",open:t,children:Object(a.jsxs)("div",{className:"panel-container",children:[Object(a.jsx)(s.a,{title:"close panel",children:Object(a.jsx)(o.a,{style:{marginTop:20},onClick:n,children:Object(a.jsx)(g.a,{})})}),Object.keys(c).map((function(e){return Object(r.createElement)(F,Object(u.a)(Object(u.a)({},e),{},{key:e,title:e,onClick:function(){return i(e)},isSelected:l===e}))}))]})})},F=function(e){var t=e.title,n=e.onClick,i=e.isSelected;return Object(a.jsx)(s.a,{title:t,children:Object(a.jsx)("div",{children:function(){var e,s=Object(u.a)(Object(u.a)({},E),{},{color:i?"orange":void 0});switch(t){case c.sound:e=Object(a.jsx)("img",{style:E,src:S,alt:t});break;case c.emoji:e=Object(a.jsx)(w.a,{style:s});break;case c.color:e=Object(a.jsx)(C.a,{style:s});break;case c.gifs:e=Object(a.jsx)(N.a,{style:s});break;case c.chat:e=Object(a.jsx)(M.a,{style:s})}return Object(a.jsx)(o.a,{onClick:n,children:e})}()})})},T=n.p+"static/media/drumbeat.e0f520f5.mp3",H=n(85),W=n.n(H),A=n(185),B="localhost"===window.location.hostname?"ws://localhost:8000":"wss://adventure-chat.herokuapp.com",P=W()(B,{transports:["websocket"]}),R=function(e){return e?{x:Math.random()*window.innerWidth*2/4+window.innerWidth/4,y:Math.random()*window.innerHeight*2/4+window.innerHeight/4}:{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight}};var J=function(){var e=Object(r.useState)(!0),t=Object(i.a)(e,2),n=t[0],c=t[1],u=Object(r.useState)([]),l=Object(i.a)(u,2),j=l[0],d=l[1],b=Object(r.useState)([]),h=Object(i.a)(b,2),O=h[0],m=h[1],p=Object(r.useState)([]),v=Object(i.a)(p,2),x=v[0],g=v[1],w=Object(r.useState)(),C=Object(i.a)(w,2),N=C[0],M=C[1],S=Object(r.useRef)(new Audio(T)),E=Object(r.useCallback)((function(e){var t=R(),n=t.x,c=t.y;m((function(t){return t.concat({top:c,left:n,key:Object(A.a)(),type:e})}))}),[]),F=Object(r.useCallback)((function(){if(S&&S.current){var e=Math.random()*window.innerWidth,t=Math.random()*window.innerHeight;d((function(n){return n.concat({top:t,left:e,key:Object(A.a)()})})),S.current.currentTime=0,S.current.play()}}),[S]),H=Object(r.useCallback)((function(e){var t=R(!0),n=t.x,c={top:t.y,left:n,key:Object(A.a)(),value:e};g((function(e){return e.concat(c)}))}),[]);return Object(r.useEffect)((function(){function e(){}var t=function(e){switch(e.key){case"sound":F();break;case"emoji":e.value&&E(e.value);break;case"chat":e.value&&H(e.value)}};return P.on("connect",e),P.on("event",t),function(){P.off("connect",e),P.off("event",t)}}),[E,F,H]),Object(a.jsxs)("div",{className:"app",style:{minHeight:window.innerHeight-10},children:[Object(a.jsx)(f,{musicNotes:j,updateNotes:d,emojis:O,updateEmojis:m,chatMessages:x,updateChatMessages:g}),Object(a.jsx)("div",{className:"open-panel-button",children:!n&&Object(a.jsx)(s.a,{title:"open panel",children:Object(a.jsx)(o.a,{onClick:function(){c(!0)},children:Object(a.jsx)(y.a,{})})})}),Object(a.jsx)(I,{onClick:function(e){switch(e){case"sound":F(),P.emit("event",{key:"sound"});break;case"emoji":case"chat":M(N===e?void 0:e)}},isOpen:n,onClose:function(){c(!1)},selectedItem:N}),Object(a.jsx)(k,{type:N,isOpen:Boolean(N),onAction:function(e){switch(e){case"chat":var t=arguments.length<=1?void 0:arguments[1];P.emit("event",{key:"chat",value:t});break;case"emoji":var n=arguments.length<=1?void 0:arguments[1];E(n),P.emit("event",{key:"emoji",value:n})}}})]})},L=n(10),z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,191)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),i(e),s(e)}))};n.n(L).a.render(Object(a.jsx)(J,{}),document.getElementById("root")),z()}},[[144,1,2]]]);
//# sourceMappingURL=main.3ef0f5c8.chunk.js.map